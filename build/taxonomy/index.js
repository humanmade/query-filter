(()=>{"use strict";const e=window.wp.blocks,l=window.wp.i18n,o=window.wp.blockEditor,t=window.wp.components,r=window.wp.data,s=window.ReactJSXRuntime,n=JSON.parse('{"UU":"query-filter/taxonomy"}');(0,e.registerBlockType)(n.UU,{edit:function({attributes:e,setAttributes:n}){const{taxonomy:a,emptyLabel:i,label:c,showLabel:u,useCheckboxes:b}=e,y=(0,r.useSelect)((e=>{const l=(e("core").getTaxonomies({per_page:100})||[]).filter((e=>e.visibility.publicly_queryable));return l&&l.length>0&&!a&&n({taxonomy:l[0].slug,label:l[0].name}),l}),[a]),p=(0,r.useSelect)((e=>e("core").getEntityRecords("taxonomy",a,{number:50})||[]),[a]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.InspectorControls,{children:(0,s.jsxs)(t.PanelBody,{title:(0,l.__)("Taxonomy Settings","query-filter"),children:[(0,s.jsx)(t.SelectControl,{label:(0,l.__)("Select Taxonomy","query-filter"),value:a,options:(y||[]).map((e=>({label:e.name,value:e.slug}))),onChange:e=>n({taxonomy:e,label:y.find((l=>l.slug===e)).name})}),(0,s.jsx)(t.TextControl,{label:(0,l.__)("Label","query-filter"),value:c,help:(0,l.__)("If empty then no label will be shown","query-filter"),onChange:e=>n({label:e})}),(0,s.jsx)(t.ToggleControl,{label:(0,l.__)("Show Label","query-filter"),checked:u,onChange:e=>n({showLabel:e})}),(0,s.jsx)(t.TextControl,{label:(0,l.__)("Empty Choice Label","query-filter"),value:i,placeholder:(0,l.__)("All","query-filter"),onChange:e=>n({emptyLabel:e})}),(0,s.jsx)(t.ToggleControl,{label:(0,l.__)("Use Checkboxes","query-filter"),help:(0,l.__)("Use checkboxes to allow multiple choices","query-filter"),checked:b,onChange:e=>n({useCheckboxes:e})})]})}),(0,s.jsx)("div",{...(0,o.useBlockProps)({className:"wp-block-query-filter"}),children:b?(0,s.jsxs)("fieldset",{className:"wp-block-query-filter__checkboxes",children:[u&&(0,s.jsx)("legend",{className:"wp-block-query-filter__legend",children:c}),p.map((e=>(0,s.jsxs)("span",{className:"wp-block-query-filter__checkboxes-wrapper",children:[(0,s.jsx)("input",{type:"checkbox",value:e.slug,id:`query-filter-${e.slug}`,name:"taxonomy-term"}),(0,s.jsx)("label",{for:`query-filter-${e.slug}`,children:e.name})]},e.slug)))]}):(0,s.jsxs)(s.Fragment,{children:[u&&(0,s.jsx)("label",{className:"wp-block-query-filter-taxonomy__label wp-block-query-filter__label",children:c}),(0,s.jsxs)("select",{className:"wp-block-query-filter-taxonomy__select wp-block-query-filter__select",inert:!0,children:[(0,s.jsx)("option",{children:i||(0,l.__)("All","query-filter")}),p.map((e=>(0,s.jsx)("option",{children:e.name},e.slug)))]})]})})]})}})})();